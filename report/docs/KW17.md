# Wochenreport KW 17

## Ziel dieser Woche
* DB mit historischen Daten/Stundendaten erstellen
* Auswahl der Wettervorhersagedienste und Abrufen der Daten
* API programmierung output / API Dokumentation
* Testen des neuen Pegelsensors
* Testen des Pegel-Interfaces
* Wassertemperaturdaten einlesen uns speichern

## Resultat / Erkenntnisse
### DB mit historischen Daten/Stundendaten erstellen
Das Problem aus der [KW16]() ist gelöst. Es war ein Programmierfehler, welcher behoben werden konnte. Die Daten werden jetzt in die neue Datenbank geschrieben. Da dies grosse Menge an Daten sind dauert dies seine Zeit.

### Auswahl der Wettervorhersagedienste
Für die Windvorhersage haben wir zwei Anbieter ausgewählt:

* Windfinder
* Openweathermap

Ziel ist, dass wir die Vorhersagedaten der beiden Anbieter abrufen und bei uns in der Datenbank speichern. Openweathermap bietet eine kostenlose Web-API an, windfinder leider nicht. Wir rufen die Daten über ein Python-Skritp ab. Da Windfinder keine API anbietet, müssen die Daten aus der Webseite extrahiert werden. Ein mögliches Tool dazu ist BeautifulSoup.

### API programmierung output / API Dokumentation
Die Dokumentation der API ist [hier](http://api.wetter-arbon.ch/) einsehbar. Wir haben uns für Postman entschieden um eine Dokumentation zu erstellen. Dies aufgrund der Einfachheit, es können auch zu einem späteren Zeitpunkt noch Änderungen vorgenommen werden. Die Dokumentationsseite liegt jedoch nicht auf dem Server von Hostpoint selber, diese wird von Postman gehostet.

### Ausmessen des neuen Pegelsensors
Der neue Pegelsensor ist einsatzbereit. Erste Tests an Land sind erfolgreich verlaufen. Sobald der Strahlungsmesser eingetroffen ist, können beide Sensoren montiert werden.

### Script einlesen des Pegels und der Wassertemperaturdaten
Es wurde ein Skript erstellt, welches per HTTP GET die Wassertemperatur-Werte der PT100 abholt und in die Datenbank speichert. Ziel ist ehrauszufinden, ob der defekte Messwiderstand einen konstanten Offset aufweist.

## Probleme / Herausforderungen
### Auslesen der Windvorhersagewerte
Wie oben beschrieben müssen wir die Vorhersagedaten von Windfinder aus der Webseite extrahieren. Lokal funktioniert die Abfrage. Auf dem Hostpoint-Server haben wir aber die Berechtigung nicht um BeautifulSoup zu installieren. Lösungsvorschläge sind erwünscht.


## Journal / Zeitaufwand
4h Interface für Pegel und Strahlungsmesser testen  
3h Konzept erstellen für Vorhersagedaten  
10h Vorhersagedaten einlesen  
0.5h Wochenreport  
0.5h Ausmessen neuer Pegelsensor






