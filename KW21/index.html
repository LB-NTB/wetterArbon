<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>KW21 - Wetter Arbon</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Wetter Arbon</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Meetings <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../idee/">Themenvorschlag BA</a>
</li>
                            
<li >
    <a href="../kickoff/">Kick off Meeting</a>
</li>
                            
<li >
    <a href="../meetings/">Meetings</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports BA <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW08/">KW08</a>
</li>
                            
<li >
    <a href="../KW09/">KW09</a>
</li>
                            
<li >
    <a href="../KW10/">KW10</a>
</li>
                            
<li >
    <a href="../KW11/">KW11</a>
</li>
                            
<li >
    <a href="../KW12/">KW12</a>
</li>
                            
<li >
    <a href="../KW13/">KW13</a>
</li>
                            
<li >
    <a href="../KW14/">KW14</a>
</li>
                            
<li >
    <a href="../KW15/">KW15</a>
</li>
                            
<li >
    <a href="../KW16/">KW16</a>
</li>
                            
<li >
    <a href="../KW17/">KW17</a>
</li>
                            
<li >
    <a href="../KW18/">KW18</a>
</li>
                            
<li >
    <a href="../KW19/">KW19</a>
</li>
                            
<li >
    <a href="../KW20/">KW20</a>
</li>
                            
<li class="active">
    <a href="./">KW21</a>
</li>
                            
<li >
    <a href="../KW22/">KW22</a>
</li>
                            
<li >
    <a href="../KW23/">KW23</a>
</li>
                            
<li >
    <a href="../KW24/">KW24</a>
</li>
                            
<li >
    <a href="../KW25/">KW25</a>
</li>
                            
<li >
    <a href="../KW26/">KW26</a>
</li>
                            
<li >
    <a href="../KW27/">KW27</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports FM <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW44/">KW44</a>
</li>
                            
<li >
    <a href="../KW45/">KW45</a>
</li>
                            
<li >
    <a href="../KW46/">KW46</a>
</li>
                            
<li >
    <a href="../KW47/">KW47</a>
</li>
                            
<li >
    <a href="../KW48/">KW48</a>
</li>
                            
<li >
    <a href="../KW49/">KW49</a>
</li>
                            
<li >
    <a href="../KW50/">KW50</a>
</li>
                            
<li >
    <a href="../KW51/">KW51</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../about/">About</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../KW20/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../KW22/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#wochenreport-kw-21">Wochenreport KW 21</a></li>
            <li><a href="#ziel-dieser-woche">Ziel dieser Woche</a></li>
            <li><a href="#resultat-erkenntnisse">Resultat / Erkenntnisse</a></li>
            <li><a href="#journal-zeitaufwand">Journal / Zeitaufwand</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="wochenreport-kw-21">Wochenreport KW 21</h1>
<h2 id="ziel-dieser-woche">Ziel dieser Woche</h2>
<ul>
<li>Warteschlange programmieren</li>
<li>Front end für den Notification-Service erstellen</li>
<li>Konzept für das Back-end des Notification-Services erarbeiten</li>
</ul>
<h2 id="resultat-erkenntnisse">Resultat / Erkenntnisse</h2>
<h3 id="warteschlange-fur-die-webcam-programmieren">Warteschlange für die Webcam programmieren</h3>
<p>Die Warteschlange ist funktionsfähig fertig programmiert. Mit einem Klick auf den Button "Webcam bedienen" registriert man sich. Ist man nicht direkt an der Reihe wird anschliessend die Wartezeit angezeigt. Erste Tests mit 4 Personen sind erfolgreich abgelaufen. Die Steuerung der Wartezeit läuft über eine Session-Id welche in der Datenbank mit Zeit und Wartezeit gespeichert werden. Ist der Benutzer noch nicht an der Reihe, sind die Buttons gesperrt. Klickt er jedoch trotzdem bekommt er die Meldung, dass er sich noch gedulden muss. Die Wartezeit ist jeweils die des folgenden, wenn er sich zum gleichen Zeitpunkt registriert. Ansonsten wird der Zeitunterschied noch subtrahiert. Die Seite kann <a href="https://dev.wetter-arbon.ch/webcam">hier</a> begutachtet werden.</p>
<p><img alt="Screenshot" src="../img/warteschlange.PNG" /><br />
<em>Abb.: Warteschlange mit Anzeige der Bedien- und Wartezeit</em> </p>
<h3 id="eingabeformular-fur-notification-service">Eingabeformular für Notification-Service</h3>
<p>Damit sich die Besucher für den Notificaiton-Service anmelden können, haben wir ein Formular erstellt. Die Eingaben werden auf Plausibilität überprüft, bevor sich gesendet werden können. In HTML5 ist diese Logik direkt in den input-Elementen integriert d.h. zum Beispiel, dass die Randbedingungen für das Zahleneingabefeld direkt als Attribut dem input-Element mitgegen werden können:</p>
<pre><code>&lt;input type=&quot;number&quot; name=&quot;threshold&quot; min=&quot;1&quot; step=&quot;0.1&quot; max=&quot;50&quot; value=&quot;6&quot; &gt;
</code></pre>

<p><img alt="Screenshot" src="../img/formular.png" /><br />
<em>Abb.: Eingabeformular</em> </p>
<h3 id="konzept-fur-das-back-end-des-notification-services">Konzept für das Back-end des Notification-Services</h3>
<p>Sobald der Benutzer das Formular für den Notification-Service abgesendet hat, werden die Daten auf dem Server von einem PHP-Skript verarbeitet. Es wird ein Eintrag in der entsprechenden Datenbanktabelle erstellt, wobei der Eintrag noch nicht aktiv ist. Danach wird an die eingegeben E-Mail-Adresse ein Mail mit einem Bestätigungslink gesendet. Damit der Link einmalig und nicht vorhersagbar ist, wird bei jedem Eintrag ein eigener Hash erstellt und in der Datenbank gespeichert. Dieser Hash wird dann in der URL des Bestätigungsmails verwendet. Das gleiche gilt für die Unsubscribe-URL.</p>
<pre><code>https://dev.wetter-arbon.ch/application/php/verify.php?email=max.mueller@ntb.ch&amp;hash=a440868cf4311953cb45c7ded9360009e1bb77775b6395a3e13aa9ef831794b1
</code></pre>

<p>Die Umsetzung d.h. das Versenden der Notifications folgt dann nächste Woche.</p>
<h2 id="journal-zeitaufwand">Journal / Zeitaufwand</h2>
<p>10h Warteschlange programmieren<br />
4h Front-end des Notification Services programmieren<br />
4h Konzept für das Back-end des Notification Services erarbeiten<br />
1h Wochenreport  </p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
