\documentclass[a4paper,ngerman, 11pt]{report}

%% Päambel
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{cite}
\usepackage{xcolor}
\newcommand\Diskussionspunkt[1]{\textcolor{red}{#1}}

% Grafikpaket laden
\usepackage{graphicx}

% Quelltext
\usepackage{listings}
 \usepackage{color}
 
 \definecolor{middlegray}{rgb}{0.5,0.5,0.5}
 \definecolor{lightgray}{rgb}{0.8,0.8,0.8}
 \definecolor{orange}{rgb}{0.8,0.3,0.3}
 \definecolor{yac}{rgb}{0.6,0.6,0.1}
 
  \lstset{
   basicstyle=\scriptsize\ttfamily,
   keywordstyle=\bfseries\ttfamily\color{orange},
   stringstyle=\color{green}\ttfamily,
   commentstyle=\color{middlegray}\ttfamily,
   emph={square}, 
   emphstyle=\color{blue}\texttt,
   emph={[2]root,base},
   emphstyle={[2]\color{yac}\texttt},
   showstringspaces=false,
   flexiblecolumns=false,
   tabsize=2,
   numbers=left,
   numberstyle=\tiny,
   numberblanklines=false,
   stepnumber=1,
   numbersep=10pt,
   xleftmargin=15pt
 }


%%  Variablen
\newcommand{\authorName}{Ladina Bilgery \and Thomas Wieling}
\newcommand{\auftraggeber}{Interessengemeinschaft Wetterstation Arbon}
\newcommand{\auftragnehmer}{Interstaatliche Hochschule für Technik NTB}
\newcommand{\projektName}{User Interface und Datenmanagement für die Wetterstation Arbon}
\title{\projektName~(Fachmodul)}
\author{\authorName}
\date{\today}

%%  Create a shorter version for tables. DO NOT CHANGE 
\newcommand\addrow[2]{#1 &#2\\ }
\newcommand\addheading[2]{#1 &#2\\ \hline}
\newcommand\tabularhead{\begin{tabular}{lp{13cm}}
\hline
}
\newcommand\addmulrow[2]{ \begin{minipage}[t][][t]{2.5cm}#1\end{minipage}
   &\begin{minipage}[t][][t]{8cm}
    \begin{enumerate} #2   \end{enumerate}
    \end{minipage}\\ }
\newenvironment{usecase}{\tabularhead}
{\hline\end{tabular}}



%%  Beginn Dokument
\begin{document}
\pagenumbering{roman}
\input{Deckblatt}
\setcounter{page}{2}
\tableofcontents          
\clearpage
\pagenumbering{arabic}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Zusammenfassung
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\begin{abstract}
%Braucht es eine Zusammenfassung?

%\end{abstract}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Einführung
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Einführung}
Ziel des Fachmoduls, Aufträge, Vorgehensweise, Vorstellung Wetterstation Arbon

\Diskussionspunkt{Foto Wetterstation}


\Diskussionspunkt{Beispiel für eine Bildintegration inkl. Referenz darauf:}
\begin{figure}[htbp]
	\centering
	\includegraphics[width=0.9\linewidth]{img/grafik}
	\caption{eine Grafik ohne Sinn und Verstand}
	\label{img:grafik-dummy}
\end{figure}

Weiterhin wollen wir an dieser Stelle Bezug auf die Grafik
\ref{img:grafik-dummy} auf Seite \pageref{img:grafik-dummy} nehmen, was uns
hiermit gelungen sein dürfte. Latex passt die Seitenzahl aber auch die Nummer
der Grafik automatisch an, wir müssen uns um nichts kümmern.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Hauptteil
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Hauptteil}

\section{IST-Zustand}
\Diskussionspunkt{Hardware und Software, 
Skizze, 
Übersicht, 
Verbindungen/Verknüpfungen untereinander}
\Diskussionspunkt{Bild}

\subsection{Installierte Komponenten}

Die Wetterstation Arbon besteht aus folgenden Sensoren bzw. Sensor-Einheiten:
\begin{itemize}  
\item Webcam
\item Kombi-Wetter-Transmitter
\item Wassertemperatur-Sensor
\item Pegel-Sensor (defekt)
\end{itemize}


Die Webcam ist 360 Grad drehbar, schwenkbar, verfügt über eine Zoomfunktion und kann ferngesteuert werden.  Der Kombi-Wetter-Transmitter vereint mehrere Sensoren in einem Gehäuse. Dies sind Windgeschwindigkeit und -richtung, Lufttemperatur, relative und absolute Luftfeuchtigkeit, Regenmenge und Luftdruck. Der Wassertemperatur-Sensor besteht aus mehreren PT100-Widerständen, die in einem Kunststoffrohr im Abstand von 20cm montiert sind. Bei den Temperaturwiderständen ist einer defekt. Der Wert dieses Sensors wird mit Hilfe der beiden Nachbar-Wiederständen interpoliert. Den defekten Temperaturwiderstand zu ersetzen ist zu aufwändig. Der Pegelsensor ist im gleichen Kunststoffrohr verbaut wie die Temperatur-Widerstände und misst den hydrostatischen Druck. Das Kunststoffrohr ist gegen den Seegrund hin offen und nach oben verschlossen.

Die Wetterstation ist auf einem Pfahl ausserhalb des Hafens Arbon montiert. Auf dem Pfahl befindet sich ein kleiner Schaltschrank, jedoch keine Auswertelogik. Sämtliche Daten werden in IP-Pakete verpackt und über eine Glasfaser-Leitung an den Server gesendet.

Die verbauten Komponenten sind in der Grafik \ref{img:HW-Aufbau} schematisch dargestellt.

\begin{figure}[htbp]
	\centering
	\includegraphics[width=1\linewidth]{img/HW-Aufbau}
	\caption{Hardware-Aufbau der Wetterstation Arbon}
	\label{img:HW-Aufbau}
\end{figure}

  
\subsection{Was ist Openfile64?}
Openfile64 ist ein CMS der Firma screenbox. Mit diesem ist es möglich um mit ein paar Klicks eine Webseite erstellt werden kann. Es kann direkt in einem Browser der gewollte Text sowie Bilder und Graphiken eingesetzt werden. Des Weiteren können auch Formulare, Menüs und Applikationen einfach mit einem Mausklick eingesetzt werden. Der Nachteil des CMS ist, dass auf die Seite selber keine eigenen HTML, CSS oder Javascript Dateien erlaubt. Somit können eigene Änderungen an der Webseite nicht durchgeführt werden und ist man vom CMS abhängig. Eigene Änderungen oder dynamische Inhalte, werden in opfile64 als sogenannte Applikationen behandelt.

\subsection{Wie und wo werden Applikationen erstellt?}
Eine Möglichkeit um eigene Änderungen zu tätigen ist, eine sogenannte Applikationen zu erstellen. Die gewünschte Applikation, d.h. eine PHP Referenzdatei, welche auf die HTML, Javascript und CSS Dateien in einem eigenen Ordner verweisen, müssen im Ordner application werden und in der Datenbank in der Tabelle applications gespeichert werden.

\subsection{Wetterapplikation Wassersport und Touristik}
Die Wetterdaten der Wetterstation Arbon werden von Weather-Display ausgewertet und dargestellt. Die Applikation wurde im Auftrag der IG Wetterstation Arbon erstellt und auf Deutsch übersetzt. Bei der Übersetzung hat es Fehler gegeben, des Weiteren läuft die Applikation nur mit Flash, welches nicht von allen Geräten unterstützt wird. Um dieses Problem aus der Welt zu schaffen, macht die Seite einen Screenshot der aktuellen Daten beim Aufrufen der Seite. Mit dem Screenshot gibt es aber keine dynamische Seite, d.h. die Anzeigen ändern beispielsweise bei einer Richtungsänderung des Windes die Richtung nicht mit. 

\subsection{Warum wird kein Flash mehr gebraucht?}

\Diskussionspunkt{Test um Programmiercode darzustellen:}
\begin{lstlisting}
if (swfobject.hasFlashPlayerVersion("1")) {
document.write('
<iframe 
src="https://www.wetter-arbon.ch/WDL/index.html">
</iframe>');
} 
else {
document.write('
<img class="pageImage" 
src="https://www.wetter-arbon.ch/WDL/WDL.png" alt="Bodensee West" 
/>');
}
\end{lstlisting}
  
https://www.heise.de/download/blog/Im-Web-surfen-ohne-den-Adobe-Flash-Player-3278307
Flash wies in der Vergangenheit vielmals Sicherheitslücken auf, dies ist einer der Gründe warum Flash immer unbeliebter wird. Weiter werden von den Mobilen Devices kein Flash unterstützt, Android unterstütze zu Beginn noch Flash, heutzutage wird sie aber von Adobe nicht mehr weiterentwickelt und empfohlen. Ein weiterer Grund das Flash nicht mehr unterstützt wird ist, das neue Web-Techniken entwickelt wurden wie HTML5, JavaScript und CSS mit denen sich Multimediainhalte auch bestens abspielen lassen und dazu noch sicherer sind als Flash.

\subsection{Welche Komponenten hat die Datenbank?}
Für die Webseite und die Wetterstation, hat es vier verschiedene Datenbanken. Diese werden in diesem Kapitel einzeln behandelt und erklärt wie Sie zusammenhängen bzw. welche Rolle sie für die Webseite spielen. Die vier Datenbanken heissen:
\Diskussionspunkt{
\begin{itemize}  
\item igwetter meteotmpl
\item igwetter wettertest
\item gwetter wp0
\item gwetter openfile64Light
\end{itemize}
}

Die Datenbank igwetter meteotmpl beinhaltet alle relevanten Daten, d.h. von der Temperatur bis zur Windrichtung. In dieser Datenbank sind jedoch keine Daten vorhanden und dient momentan nur als Template.\\

\Diskussionspunkt{Wo vergibt man den Namen der Applikation?}\\
Die zweite Datenbank welche nicht aktiv ist, heisst igwetter wp0, \Diskussionspunkt{diese wurde zu Beginn für eine Wordpress Webseite benutzt? Stimmt das?} Die dritte Datenbank ist die igwetter wettertest. Diese ist im Gegensatz zu den vorherigen beiden Datenbanken im Gebrauch. In der Tabelle wx data sind die Daten ab dem 25.02.2015 bis zum jetzigen Zeitpunkt gespeichert. Daten zwischen dem 14.07.2012 und 25.02.2015 sind nicht in der Datenbank hinterlegt. Vor diesem Zeitpunkt bis zum 25.02.2005 sind die täglichen Minimum, sowie Maximum Daten in der Tabelle tblgestern gespeichert.\\
Anders als bei den vorherigen Datenbanken hat die igwetter opfile64Light Datenbank eine Funktion für die Webseite. In diesem Fall ist die ganze Webseite abhängig von dieser, denn das CMS basiert auf einer Datenbank. Dies wurde im Kapitel Wie und wo werden Applikationen erstellt bereits erläutert. Für die BA, sowie das Fachmodul ist nur die Tabelle applications interessant, denn dort werden die Applikationen unter einem bestimmten Namen abgespeichert und aufgerufen. Die Webseite weiss dann welche Datei sie öffnen muss, damit die Applikation läuft.\\
\Diskussionspunkt{Was ist mit den Daten zwischen 14.7.2012 und 25.02.2015?}
\Diskussionspunkt{Wofür sind die .txt Files im Ordner WDL?}
\Diskussionspunkt{Datenbank: Wie werden die Daten eingelesen? Wie viel Zeit vergeht bis zu nächsten Einlesung?}
  

\section{Problemanalyse}
\Diskussionspunkt{Beschreibung, 
Begründung, 
Erkenntnisse aus IST-Analyse}

\subsection{Hardware}
Sowohl die Webcam, als auch der Kombi-Wetter-Transmitter funktionieren einwandfrei. Der defekte Temperaturwiderstand wird akzeptiert, da dessen Wert interpoliert werden kann. Der Pegel-Sensor hingegen ist defekt und muss ersetzt werden. Der bisherige Sensor nutzte das Prinzip der hydrostatischen Druckmessung. Für die Pegelmessung konnten wir drei verschiedene Messprinzipien eruiert, die eingesetzt werden können:

\begin{itemize}  
\item Hydrostatische Druckmessung
\item Ultraschall-Distanzmessung
\item Radar-Distanzmessung
\end{itemize}



\subsection{Webseite}
Die Webseite der IG Wetterstation Arbon, ist bei auf den Seiten Wetter Touristik bzw. Wassersport auf einem alten Stand der Technik. Es wird Flash benutzt, welcher heutzutage schon fast verpönt ist. Das Problem hierbei ist, dass viele Geräte Flash nicht mehr unterstützen und die Lösung mit dem Screenshot der aktuellen Verhältnisse auch keine optimale Lösung ist. Weiter fällt bei der Begutachtung der Webseite das es einige Schreibfehler bzw. Übersetzungsfehler gibt, welche die Webseite auch nicht in einem besseren Licht da stehen lässt. Weiter ist die Wetterapplikation nicht nach dem Prinzip responsive Design aufgebaut, welches in der heutigen Zeit ein wichtiger Bestandteil einer Webseite ist. 
\subsection{Datenbank}
Werden die Datenbanken zum jetzigen Zeitpunkt angeschaut, scheint es chaotisch zu sein. Im Grunde werden nur die igwetter openfile64Light und die igwetter wettertest Datenbank benutzt. Das Problem hierbei ist das auf dem ersten Blick nicht sichtbar ist, was wo gemacht wird und welche Datenbank für wofür zuständig ist. Auch ist unklar was mit den Daten zwischen 14.7.2012 und 25.02.2015 geschehen ist. Des weiteren wird nicht nur eine Datenbank sondern auch .txt Files benutzt um ein Backup zu erstellen, sowie die aktuellen Daten zu speichern. 

\Diskussionspunkt{Wo ist die SW für die Wetterdatenverarbeitung zu finden?}

\section{SOLL-Zustand}
\Diskussionspunkt{Lösungsansätze = zu entwickelnde Artefakte, 
Resultat aus Literaturrecherche, 
Konzepte}

\subsection{Webseite}
Die Webseite soll auf dem neusten Stand der Technik gebracht werden. Konkret heisst dies, der Flash wird ausgemustert und die Applikation wird auf HTML5 und Javascript umgestellt. Die Webseite soll zudem im responsive Design entwickelt werden, damit auch auf mobilen Geräten die aktuelle Wetterlage sichtbar ist. Die dynamischen, sowie auch die teilweise statischen Anzeigen, werden wo möglich mithilfe der Javascript Bibliothek D3.js erstellt, hiermit lassen sich ansehnliche und moderne Grafiken erstellen. Die Grafiken, sollten so gestaltet sein das auch Sehbehinderte Personen erkennen wie das Wetter momentan ist. Das heisst beispielsweise, dass die Farben auch für Farbenblinde unterscheidbar sein sollten oder blinde Personen anhand eines Vorleseprogramms erkennen wie das Wetter ist. 

\subsection{Datenbank}
Die Datenbank sollte den Mitglieder der IGWetter Arbon auf dem ersten Blick klar sein, was wofür benutzt wird. Hierfür wird vorgeschlagen die Datenbank igwetter openfile64Light so zu belassen, da diese für das CMS zuständig ist. Die igwetter wettertest, sollte neu klarer strukturiert werden, in eine Tabelle mit allen Daten, wobei Daten \Diskussionspunkt{,welche 5 Jahre und älter sind} gelöscht werden um unnötigen Speicherplatz nicht zu belasten. Zusätzlich sollte eine Tabelle mit den historischen Daten d.h. \Diskussionspunkt{5 Jahre} und älter mit den Minimalen, Maximalen und den Mittelwert aller aufgezeichneten Werte enthalten. Hierbei sollten auch die schon vorhandenen Daten integriert werden. Ein weiterer Punkt auf der Liste sollten die zukünftigen Backups sein, d.h. diese sollten nicht als .txt sonder auch als .sql File gespeichert sein damit im Falle eines Datenverlustes die Datenbank einfach wiederherzustellen ist. \Diskussionspunkt{Die Datenbanken, welche nicht im Gebrauch sind werden gelöscht um eine klare Struktur herzustellen.}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Spezifikation
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Spezifikation / Pflichtenheft}
Anforderungen nach dem SMART-Prinzip formulieren
\input{Spezifikation}   


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Projektmanagement
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Projektmanagement}
\section{Entwicklungsprozess}
V-Modell XT oder KANBAN oder eine Mischung davon, Begründung warum kein Scrum, graphische Darstellung, müssen sämtliche KANBAN-Karten schon bekannt sein?


\section{Projektplan für die Bachelor-Arbeit}
Hier wäre ein A3-Blatt quer noch cool. Darauf sollten alle Wochen von Start BA bis zur Abgabe sein.
Alle offiziellen Termine, alle Meilensteine usw.
Eine Zeile für Meetings (Führungsrythmus)
Abhängigkeit der einzelnen Artefakte voneinander (evtl. mit MS-Project arbeiten)
Was gehört alles in eine Projektplan. Was ist der Unterschied zwischen Projekt- und Terminplan?

\section{Risikoanalyse}
\input{Risikoanalyse}   
\Diskussionspunkt{Risikotabelle mit Wahrscheinlichkeit und Auswirkung gewichtet, Risikomatrix als Übersicht, Themen sind technische Umsetzung, Zusammenarbeit mit Dritten, Termine, Ressourcen, }



\section{Dokumentation}
\Diskussionspunkt{Versionsverwaltung, Dokumentationskonzept, Tools?, Printscreens}

%Allgemein
Für die Bachelor-Arbeit verwenden wir unterschiedliche Dokumentationswerkzeuge. Bei der Auswahl haben wir darauf geachtet, das die Tools kostenlos nutzbar und für sämtliche Plattformen verfügbar sind (Windows, Mac, iPad, usw.) Weiter war uns wichtig, dass die Tools untereinander kommunizieren können. 

% github / Trello / Toggl
Sämtliche Artefakte speichern wir auf \textit{github}. Wir haben somit eine automatische Versionierung der Dokumente und können unabhängig voneinander an den Dokumenten arbeiten. Die Planung bzw. Darstellung des Entwicklungsprozesses erledigen wir mir \textit{Trello}. Es ist ein intuitives Tool, welche diverse Integrationsmöglichkeiten mit den anderen Tools bietet. Für die Zeiterfassung verwenden wir \textit{Toggl}, welches mittels Plugin direkt in Trello integriert werden kann.

% Kommunikation nach aussen
Damit wir keine Besprechungsprotokolle verschicken müssen und dass alle Informationen für alle immer zugänglich sind, haben wir entschieden das Reporting in Form einer öffentlichen Webseite zu erstellen. github bietet mit \textit{GitPages} einen Hosting-Service an, der genau dies ermöglicht. Der Vorteil von GitPages ist, dass wir sämtliche Daten in einem einzigen Ort bzw. Repository vereint haben. Damit wir uns nicht mit Formatierung u.a. herumschlagen müssen und uns auf den Inhalt konzentrieren können, verwenden wir \textit{mkdocs} als Template Engine. Die Webseiten-Einträge können wir dadurch auf simple Art in Form von Markdown-Files erstellen.

% Kommunikation nach innen
Innerhalb des Teams nutzen wir das Kommunikationstool \textit{Slack}. Dieses ermöglich uns Konversationen als Chat aufzuzeichnen und nach Themen zu gruppieren. Weiter lassen sich Dokumente austauschen. Sämtliche git-Posts werden von Slack automatisch geloggt und können, falls gewünscht, als push-Notification angezeigt werden.
Das wöchentliche Team-Meeting findet über \textit{Skype} statt, da wir den regelmässigen mündlichen Austausch aus zentralen Punkt erachten.

% Bericht = LaTeX
Den Bericht werden wir in LaTeX verfassen. Wir haben uns für LaTeX entschieden, da wir uns auf den Inhalt konzentrieren können und das Layout automatisiert ist. Weiters ist LaTeX in der Wissenschaft weit verbreitet. Die Bachelor-Arbeit ist deshalb eine gute Gelegenheit uns in dieses Thema einzuarbeiten.


\section{Rechtliche Ansprüche}
siehe separates Dokument


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Schluss
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Schluss}
\Diskussionspunkt{Erkenntnisse, Einschätzungen}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Verzeichnisse
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliography{literatur}{}	
\bibliographystyle{plain}

\end{document}
