<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>KW19 - Wetter Arbon</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Wetter Arbon</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Meetings <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../idee/">Themenvorschlag BA</a>
</li>
                            
<li >
    <a href="../kickoff/">Kick off Meeting</a>
</li>
                            
<li >
    <a href="../meetings/">Meetings</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports BA <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW08/">KW08</a>
</li>
                            
<li >
    <a href="../KW09/">KW09</a>
</li>
                            
<li >
    <a href="../KW10/">KW10</a>
</li>
                            
<li >
    <a href="../KW11/">KW11</a>
</li>
                            
<li >
    <a href="../KW12/">KW12</a>
</li>
                            
<li >
    <a href="../KW13/">KW13</a>
</li>
                            
<li >
    <a href="../KW14/">KW14</a>
</li>
                            
<li >
    <a href="../KW15/">KW15</a>
</li>
                            
<li >
    <a href="../KW16/">KW16</a>
</li>
                            
<li >
    <a href="../KW17/">KW17</a>
</li>
                            
<li >
    <a href="../KW18/">KW18</a>
</li>
                            
<li class="active">
    <a href="./">KW19</a>
</li>
                            
<li >
    <a href="../KW20/">KW20</a>
</li>
                            
<li >
    <a href="../KW21/">KW21</a>
</li>
                            
<li >
    <a href="../KW22/">KW22</a>
</li>
                            
<li >
    <a href="../KW23/">KW23</a>
</li>
                            
<li >
    <a href="../KW24/">KW24</a>
</li>
                            
<li >
    <a href="../KW25/">KW25</a>
</li>
                            
<li >
    <a href="../KW26/">KW26</a>
</li>
                            
<li >
    <a href="../KW27/">KW27</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports FM <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW44/">KW44</a>
</li>
                            
<li >
    <a href="../KW45/">KW45</a>
</li>
                            
<li >
    <a href="../KW46/">KW46</a>
</li>
                            
<li >
    <a href="../KW47/">KW47</a>
</li>
                            
<li >
    <a href="../KW48/">KW48</a>
</li>
                            
<li >
    <a href="../KW49/">KW49</a>
</li>
                            
<li >
    <a href="../KW50/">KW50</a>
</li>
                            
<li >
    <a href="../KW51/">KW51</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../about/">About</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../KW18/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../KW20/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#wochenreport-kw-19">Wochenreport KW 19</a></li>
            <li><a href="#ziel-dieser-woche">Ziel dieser Woche</a></li>
            <li><a href="#resultat-erkenntnisse">Resultat / Erkenntnisse</a></li>
            <li><a href="#probleme-herausforderungen">Probleme / Herausforderungen</a></li>
            <li><a href="#journal-zeitaufwand">Journal / Zeitaufwand</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="wochenreport-kw-19">Wochenreport KW 19</h1>
<h2 id="ziel-dieser-woche">Ziel dieser Woche</h2>
<ul>
<li>Historische Daten erstellen in der DB</li>
<li>API-Programmierung</li>
<li>Cronjobs für externe Sensoren</li>
<li>Installation des Pegel- und Strahlungssensors</li>
<li>Windvorhersagedaten aufbereiten und anzeigen</li>
</ul>
<h2 id="resultat-erkenntnisse">Resultat / Erkenntnisse</h2>
<h3 id="historische-daten-erstellen-in-der-db">Historische Daten erstellen in der DB</h3>
<p>Die Stundendaten wurden bis zum 31.3 erstellt. Für die Min und Max Werte wurden die stündlichen Min und Max Werte genommen. Für die restlichen Daten der Mittelwert. Der Grund den Mittelwert zu nehmen und nicht den Median ist folgender. Die neu geschriebene Sorftware sollte möglichst einfach verständlich und schnell anpassbar sein. Da es für den Mittelwert einen Befehl in MariaDB 10.1 gibt und für den Median erst ab Version 10.3, ist dies einfach anpassbar wenn Hostpoint die neue Version zur Verfügung stellt. Die restlichen Daten werden in der kommenden Woche geschrieben, da dann die DateMaster Tabelle auch vollständig importiert sein sollte.</p>
<h3 id="api-programmierung">API programmierung</h3>
<p>Bei der API gab es noch einige Änderungen wie die Namen der verschiedenen JSONs, sowie die Eiheiten. Die Windgeschwindigkeit wurde durch km/h und Beaufort ergänzt. Auch wurde sie mit den externen Sensoren vervollständigt und sind jetzt auch aufrufbar.</p>
<h3 id="installation-des-pegel-und-strahlungssensors">Installation des Pegel- und Strahlungssensors</h3>
<p>Letzte Woche konnte der Pegel- und der Strahlungssensor endlich eingebaut werden. Der Test vor Ort im lokalen Netz war erfolgreich. Von aussen konnte vorerst nicht auf die Daten zugegriffen werden, da die Firewall falsch konfiguriert war. Diese Umstand wurde aber rasch korrigiert und nun können wir mit den Sensordaten arbeiten.
<img alt="Screenshot" src="../img/str_sensor.png" />
<em>Abb.: Montierter Strahlungssensor</em></p>
<h3 id="windvorhersagedaten-aufbereiten-und-anzeigen">Windvorhersagedaten aufbereiten und anzeigen</h3>
<p>Für den Vergleich der Windvorhersagedaten hatten wir zwei Dienstleister ausgewählt:</p>
<ul>
<li>Windfinder</li>
<li>Openweathermap</li>
</ul>
<p>Von beiden haben wir während den letzten zwei Wochen die Windvorhersagedaten ausgelesen und in unsere Datenbank gespeicher. Es hat sich allerdings gezeigt, dass die Vorhersagedaten von Openweathermap nicht brauchbar sind. Die Vorhersage schwankt konstant zwischen 0kn und 1kn. Wir haben uns deshalb auf die Vorhersage von Windfinder konzentriert und arbeiten mit diesen Daten weiter.</p>
<h3 id="cronjobs-externe-sensoren">Cronjobs externe Sensoren</h3>
<p>Nach dem montieren der Sensoren wurden die Cronjobs fertig gestellt und getestet. Die Cronjobs lesen jetzt im minuten Takt den Pegel, die Wassertemperatur und die Sonnenstrahlung aus und schreibt diese in die Datenbank.<br />
Der Cronjob ,welcher schon Testweise für das Auslesen der Sturmwarnung geschrieben wurde, wies heute einen Fehler beim schreiben der Sturmwarnzeit auf. Der Fehler, Datumsformatfehler, konnte behoben werden und somit ist das Problem auch gelöst.</p>
<h2 id="probleme-herausforderungen">Probleme / Herausforderungen</h2>
<p>Die saubere Darstellung der Messwerte auf der Webseite stellt sich als nicht ganz einfach heraus. Ziel ist, dass alle Kacheln gleich breit und gleich hoch sind. Eine fixe Grösse kann aber nicht vergeben werden, da die Seite sonst nicht mehr responsive ist. Wir arbeiten daran...
<img alt="Screenshot" src="../img/kacheln.png" />
<em>Abb.: Unterschiedlich grosse Kacheln</em></p>
<h2 id="journal-zeitaufwand">Journal / Zeitaufwand</h2>
<ul>
<li>5h API programmierung  </li>
<li>4.5h Sensoren einbauen  </li>
<li>10h Konzept und DB-Abfrage für Vorhersagedaten  </li>
<li>3h Historische Stundendaten erstellen  </li>
<li>4.5h Darstellung der Messwerte auf der Webseite  </li>
<li>2.5h Cronjobs erstellen  </li>
<li>2h Projektmanagement  </li>
</ul></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
