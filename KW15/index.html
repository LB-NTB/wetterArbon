<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>KW15 - Wetter Arbon</title>
        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="..">Wetter Arbon</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                    <li >
                        <a href="..">Home</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Meetings <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../idee/">Themenvorschlag BA</a>
</li>
                            
<li >
    <a href="../kickoff/">Kick off Meeting</a>
</li>
                            
<li >
    <a href="../meetings/">Meetings</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports BA <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW08/">KW08</a>
</li>
                            
<li >
    <a href="../KW09/">KW09</a>
</li>
                            
<li >
    <a href="../KW10/">KW10</a>
</li>
                            
<li >
    <a href="../KW11/">KW11</a>
</li>
                            
<li >
    <a href="../KW12/">KW12</a>
</li>
                            
<li >
    <a href="../KW13/">KW13</a>
</li>
                            
<li >
    <a href="../KW14/">KW14</a>
</li>
                            
<li class="active">
    <a href="./">KW15</a>
</li>
                            
<li >
    <a href="../KW16/">KW16</a>
</li>
                            
<li >
    <a href="../KW17/">KW17</a>
</li>
                            
<li >
    <a href="../KW18/">KW18</a>
</li>
                            
<li >
    <a href="../KW19/">KW19</a>
</li>
                            
<li >
    <a href="../KW20/">KW20</a>
</li>
                            
<li >
    <a href="../KW21/">KW21</a>
</li>
                            
<li >
    <a href="../KW22/">KW22</a>
</li>
                            
<li >
    <a href="../KW23/">KW23</a>
</li>
                            
<li >
    <a href="../KW24/">KW24</a>
</li>
                            
<li >
    <a href="../KW25/">KW25</a>
</li>
                            
<li >
    <a href="../KW26/">KW26</a>
</li>
                            
<li >
    <a href="../KW27/">KW27</a>
</li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Reports FM <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            
<li >
    <a href="../KW44/">KW44</a>
</li>
                            
<li >
    <a href="../KW45/">KW45</a>
</li>
                            
<li >
    <a href="../KW46/">KW46</a>
</li>
                            
<li >
    <a href="../KW47/">KW47</a>
</li>
                            
<li >
    <a href="../KW48/">KW48</a>
</li>
                            
<li >
    <a href="../KW49/">KW49</a>
</li>
                            
<li >
    <a href="../KW50/">KW50</a>
</li>
                            
<li >
    <a href="../KW51/">KW51</a>
</li>
                        </ul>
                    </li>
                    <li >
                        <a href="../about/">About</a>
                    </li>
                </ul>

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                    <li >
                        <a rel="next" href="../KW14/">
                            <i class="fa fa-arrow-left"></i> Previous
                        </a>
                    </li>
                    <li >
                        <a rel="prev" href="../KW16/">
                            Next <i class="fa fa-arrow-right"></i>
                        </a>
                    </li>
            </ul>
        </div>
    </div>
</div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#wochenreport-kw-15">Wochenreport KW 15</a></li>
            <li><a href="#ziel-dieser-woche">Ziel dieser Woche</a></li>
            <li><a href="#resultat-erkenntnisse">Resultat / Erkenntnisse</a></li>
            <li><a href="#probleme-herausforderungen">Probleme / Herausforderungen</a></li>
            <li><a href="#journal-zeitaufwand">Journal / Zeitaufwand</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="wochenreport-kw-15">Wochenreport KW 15</h1>
<h2 id="ziel-dieser-woche">Ziel dieser Woche</h2>
<ul>
<li>API-Programmierung Output</li>
<li>DB-Strukturprogrammierung</li>
<li>DB mit historischen Daten erstellen</li>
<li>HTML5 Grafiken programmieren</li>
<li>Entwurf für die Darstellung der historischen Daten</li>
</ul>
<h2 id="resultat-erkenntnisse">Resultat / Erkenntnisse</h2>
<h3 id="api-programmierung">API Programmierung</h3>
<p>Die API ist soweit wie möglich fertig programmiert. Die einzelnen JSON-Objekte können aufgerufen werden. Im momentanen Zustand werden die Werte vom 31.03.2018 angezeigt. Dies ändert sich sobald die Werte des Wettertransmitters sowie des Pegelsensors aktualisiert werden.
Beispiele für die API:</p>
<ul>
<li><a href="https://api.wetter-arbon.ch/version3/sensors/">/sensors</a>    </li>
<li><a href="https://api.wetter-arbon.ch/version3/sensors/airtemperature/">/airtemperature</a></li>
<li><a href="https://api.wetter-arbon.ch/version3/sensors/humidity">/humidity</a></li>
</ul>
<p>Es gibt noch folgende Details die nicht nach Wunsch sind oder noch erledigt werden müssen: </p>
<ul>
<li>Bei der Gesamtübersicht /sensors stimmt das erstellte JSON nicht</li>
<li>Die URL müssen noch so umgestellt werden, dass diese mit und ohne / am Ende aufgerufen werden können</li>
<li>Die Dokumentation der API muss noch erstellt werden</li>
</ul>
<p>Die aufgezählten Schritte behindern die Weiterentwicklung der weiteren Aufgaben nicht.</p>
<h3 id="db-strukturprogrammierung-db-mit-historischen-daten-erstellen">DB Strukturprogrammierung / DB mit historischen Daten erstellen</h3>
<p>Es wurde versucht die Tabelle datemaster zu importieren. Hierbei gab es jedoch Schwierigkeiten, siehe Probleme. Es wurde Recherchiert wie der Median erstellt werden kann mittels einer SQL Abfrage. Hierbei ist die Funktion MEDIAN() aufgetaucht, leider wird diese erst ab MariaDB 10.3 unterstützt. Hostpoint bietet jedoch nur die Version 10.1 an. Auch eine Anfrage bei Hostpoint um die Software auf den neusten Stand zu bringen war leider erfolglos. Hostpoint hat den Vorschlag gemacht den Median in einem PHP-Skript zu berechnen. Eine weitere Möglichkeit wäre jedoch auch die erstellung der Mittelwertes mit der Funktion AVG() welche unterstützt wird. Diese beiden Punkte müssen noch evaluiert werden.</p>
<h3 id="html-5-grafiken-programmieren">HTML 5 Grafiken programmieren</h3>
<p>Die Graphen, sowie die Gauges für die Darstellung der Wetterdaten sind für die Konzeptbesprechnung mit dem IG programmiert.<br />
<a href="https://wetter-arbon.ch/Test">Neue Wetterseite</a></p>
<h3 id="graphen">Graphen</h3>
<p>Die Graphen sind im jetzigen Zustand so programmiert, dass sie fixe Achsen besitzen. Betrachtet man bspw. den Luftdruck, kann dies in dieser Konfiguration so fehl intepretiert werden, dass es keine Änderung gab. Somit sollte diese Achse automatisch skaliert werden. Beim Regengraph ist die Anordnung der Labels noch nicht korrekt, dies wird sowie die restlichen Graphen noch angepasst nach der Konzeptbesprechung. Der Graph mit der Windgeschwindigkeit kann soweit beibehalten werden. Der letzte Graph, die Windrichtung, ist soweit auch in Ordnung. Hier sollte der Punkt noch durch einen Pfeil sowie die skalierung in der Y-Achse auf 360 Grad begrentzt werden.<br />
Die gesamten Graphen beziehen sich jetzt auf die neu aufgestellte Datenbank. Die Daten sind jedoch noch nicht aus der historischen Tabelle, da diese noch nicht besteht.</p>
<h3 id="entwurf-fur-die-darstellung-der-historischen-daten">Entwurf für die Darstellung der historischen Daten</h3>
<p>Die Daten der ursprünglichen Wetterstation stellten sich als wenig brauchbar heraus (Datenlücken, unrealistische Skalierung), sodass wir uns auf die mit der neuen Wetterstation gesammelten Daten konzentriert haben. Die Darstellung der Messwerte über Zeit schien uns nicht sehr aussagekräftig. Wir haben uns deshalb auf die Korrelationen und die Häufigkeiten der Messdaten konzentriert. Ein erster Entwurf des interaktiven Dashboards findet sich unter:</p>
<p><a href="https://public.tableau.com/profile/ladina#!/vizhome/Wetterstation/Dashboard">Historische Daten</a></p>
<h2 id="probleme-herausforderungen">Probleme / Herausforderungen</h2>
<h3 id="db-strukturprogrammierung">DB Strukturprogrammierung</h3>
<p>Die Tabelle datemaster, welche zusammen mit einem Experten in KW 12 erstellt wurde, konnte nicht importiert werden. Die Vermutung ist, dass die Datei mit 1.5 GB zu gross ist.</p>
<h3 id="fehlerhafte-darstellung-der-anzeigeelemente-in-mobile-browsern-und-safari">Fehlerhafte Darstellung der Anzeigeelemente in Mobile-Browsern und Safari</h3>
<p>Für die Darstellung der aktuellen Daten verwenden wir das Javascirpt-Framework <em>justgage.js</em>. Sowohl lokal als auch direkt auf dem Hostpoint-Server werden die Anzeigelemente korrekt angezeigt. Sobald wir die Anzeigelemente aber in die CMS-php-Seite integrieren, werden die Anzeigelemente nicht mehr korrekt angezeigt (siehe Foto). Dies tritt aber nur beim Safari-Browser und bei allen Mobile-Browsern auf. Zur Zeit wissen wir nicht was die Ursache ist.</p>
<p><img alt="Screenshot" src="../img/gaugesfault.png" />
<em>Abb.: Fehlerhafte Anzeige</em></p>
<h2 id="journal-zeitaufwand">Journal / Zeitaufwand</h2>
<p>19h API Programmierung Output<br />
40h HTML5 Grafiken programmieren inkl. Fehlersuche <br />
6h DB Strukturprogrammierung<br />
8h Konzept und Entwurf Auswerteseite<br />
2h Wochenreport</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>var base_url = '..';</script>
        <script src="../js/base.js"></script>
        <script src="../search/require.js"></script>
        <script src="../search/search.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td><kbd>&larr;</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td><kbd>&rarr;</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>


    </body>
</html>
